# ETL-процесс
ETL (Extract, Transform, Load) - это процесс транспортировки данных, при котором информацию из разных мест преобразуют и кладут в новое место.
## Описание
Данный проект представляет собой ETL-процесс, написанный на Python и предназначенный для загрузки данных из CSV-файлов в таблицы базы данных PostgreSQL с использованием логирования. Процесс включает в себя следующие этапы:
1. Извлечение (Extract):  
    - Считывание данных из CSV-файлов, расположенных в заданном каталоге
2. Преобразование (Transform):
    - Обработка ошибок в виде некорректных форматах значений
    - Преобразование данных в соответствии с требованиями таблиц PostgreSQL (обработка заголовков, удаление ненужных столбцов)
3. Загрузка (Load):
   - Загрузка преобразованных данных в соответствующие таблицы PostgreSQL
4. Логирование:
    - Начало и окончание работы процесса загрузки данных, уровень логирования (INFO или ERROR), сообщение и его детали логируются в специальную логовую таблицу  
## Использование
1. Клонируйте репозиторий
2. Создайте виртуальную среду 
3. Активируйте среду и установите требования с помощьюpip ```install -r requirements.txt```
4. Создайте файл конфигурации ```.env``` с переменными, указанными в файле ```.env.example```
5. Создайте таблицы в PostgreSQL с указанными структурами
6. Запустите скрипт Python: ```python3 main.py```
## Структура проекта
```csv_file/``` - папка с CSV-файлами
```scripts/``` - папка с основными модулями:
- ```connect.py``` - модуль с классом ```DatabaseConnect```, реализующим подключение к базе данных
- ```extract.py``` - модуль с классом ```ExtractData```, реализующим извлечение данных из CSV-файлов
- ```transform.py``` - модуль с классом ```TransformData```, реализующим преобразование извлеченных данных
- ```load.py``` - модуль с классом ```LoadDatabase```, реализующим загрузку данных в базу данных
- ```etl.py``` - модуль с классом ```Etl```, реализующим ETL-процесс с логированием

```table_structure.sql``` - скрипт со структурой таблиц PostgreSQL, включая таблицу логов и процедуру для записи в неё
```main.py``` - модуль с демонстрацией работы ETL-процесса